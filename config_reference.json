{
  "_comment_header": "=== STREAM INGESTION ENGINE V5 CONFIGURATION ===",
  "_comment_version": "Version: 5.0 - Post-Process Downmix with Auto Stream Detection",

  "_comment_required": "=== REQUIRED SETTINGS ===",
  "media_source_url": "srt://216.49.171.174:10309",
  "media_source_id": "79275",
  "scheduled_job_id": "67890",
  "bucket": "srt-test-jblais-2025",
  "aws_region": "us-east-1",

  "_comment_optional_timing": "=== OPTIONAL: TIMING & SCHEDULING ===",
  "_comment_start_time": "start_date_time: epoch timestamp for scheduled start (null = immediate)",
  "start_date_time": null,
  "_comment_stop_time": "stop_date_time: epoch timestamp for scheduled stop (null = continuous)",
  "stop_date_time": null,
  "_comment_segment": "segment_length_in_seconds: 30-3600 (no clock alignment required in V5)",
  "segment_length_in_seconds": 300,
  "_comment_startup_offset": "startup_offset_seconds: start recording N seconds early (optional)",
  "startup_offset_seconds": 15,

  "_comment_optional_storage": "=== OPTIONAL: STORAGE PATHS ===",
  "_comment_local_dir": "local_segments_dir: ./segments for local, /app/segments for containers",
  "local_segments_dir": "./segments",
  "_comment_s3_path": "bucket_path: S3 prefix for uploaded segments (auto-generated if null)",
  "bucket_path": null,
  "_comment_core_id": "core_id: defaults to 0 if not specified",
  "core_id": "0",

  "_comment_optional_srt": "=== OPTIONAL: SRT CONNECTION SETTINGS ===",
  "_comment_passphrase": "media_source_pass_phrase: encryption key for secure SRT (null = unencrypted)",
  "media_source_pass_phrase": null,
  "_comment_latency": "srt_latency: milliseconds of buffering for network jitter (120-2000)",
  "srt_latency": 1000,
  "_comment_bandwidth": "srt_maxbw: max bandwidth in bps (0 = unlimited)",
  "srt_maxbw": 50000000,
  "_comment_buffers": "srt_rcvbuf/sndbuf: socket buffer sizes in bytes",
  "srt_rcvbuf": 48234496,
  "srt_sndbuf": 48234496,
  "_comment_encryption": "srt_pbkeylen: encryption key length (16, 24, or 32)",
  "srt_pbkeylen": null,

  "_comment_optional_audio": "=== OPTIONAL: AUDIO PROCESSING ===",
  "_comment_downmix": "audio_downmix: true = downmix to stereo (post-process), false = preserve original",
  "audio_downmix": true,
  "_comment_bitrate": "audio_bitrate: output bitrate when downmixing (96k-320k)",
  "audio_bitrate": "192k",
  "_comment_stream": "audio_stream_index: 'auto' (recommended), null, or specific stream number",
  "audio_stream_index": "auto",

  "_comment_optional_video": "=== OPTIONAL: VIDEO SETTINGS ===",
  "_comment_video_stream": "video_stream_index: 'auto' (recommended), null, or specific stream number",
  "video_stream_index": "auto",

  "_comment_optional_output": "=== OPTIONAL: OUTPUT FORMAT ===",
  "_comment_format": "output_format: 'mp4' (recommended) or 'ts'",
  "output_format": "mp4",

  "_comment_optional_reliability": "=== OPTIONAL: RELIABILITY & PERFORMANCE ===",
  "_comment_retries": "max_connection_retries: attempts before giving up (1-20)",
  "max_connection_retries": 5,
  "_comment_base_delay": "base_retry_delay_seconds: initial delay between retries (exponential backoff)",
  "base_retry_delay_seconds": 30,
  "_comment_max_delay": "max_retry_delay_seconds: maximum delay between retries",
  "max_retry_delay_seconds": 300,
  "_comment_perf_threshold": "performance_warning_threshold: warn if FFmpeg speed drops below this (0.0-1.0)",
  "performance_warning_threshold": 0.95,

  "_comment_v5_features": "=== V5 NEW FEATURES ===",
  "_comment_v5_1": "• Auto stream detection: Automatically finds correct video/audio streams",
  "_comment_v5_2": "• Post-process downmix: Prevents cumulative sync drift during long recordings",
  "_comment_v5_3": "• FFmpeg strftime: Automatic segment timestamping (no complex timing logic)",
  "_comment_v5_4": "• AAC consistency: AAC audio for both MP4 and TS outputs",
  "_comment_v5_5": "• Keyframe alignment: 2-second tolerance for clean segment breaks (better stitching)",
  "_comment_v5_6": "• No clock alignment: Segments are ~5 minutes (not required to start at :00, :05, etc.)",

  "_comment_minimal": "=== MINIMAL CONFIG EXAMPLE ===",
  "_comment_minimal_note": "Only 4 settings required - everything else has smart defaults:",
  "_comment_minimal_example": "{\"media_source_url\": \"srt://...\", \"media_source_id\": \"123\", \"bucket\": \"mybucket\", \"aws_region\": \"us-east-1\"}"
}
